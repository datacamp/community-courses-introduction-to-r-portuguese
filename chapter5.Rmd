--- 
title_meta  : Capítulo 5
title       : Data frames
description : A grande maioria dos dados em que você trabalhará serão armazenados em data frames. Ao final deste capítulo focado em básico de R, você será capaz de criar um data frame, selecionar partes interessantes de um data frame e até ordenar um data frame de acordo com certas variáveis.

--- type:NormalExercise xp:100 skills:1 key:7f95849020a2563168920409022ce7bed20835b5
## O que é um data frame?

Lembra-se que no capítulo sobre matrizes nós falamos que todos os elementos que você coloca em uma matriz devem ser do mesmo tipo? O dataset sobre os filmes de Star Wars, por exemplo, continha apenas números.

Contudo, quando você está fazendo uma pesquisa de mercado, é frequente encontrar questões como:

- 'Você é casado(a)?' ou outras questões onde a resposta é 'sim/não' (`logical`)
- 'Qual sua idade?' (`numeric`)
- 'Qual sua opinião sobre este produto?' ou outras questões discursivas (`character`)
- ...

O resultado do questionário acima nos trará um conjunto de dados com diferentes tipos de dados. Você frequentemente irá se achar trabalhando com datasets que contém diferentes tipos de dados, ao invés de apenas um.

Um data frame (quadro de dados, em tradução livre) utiliza a variável de um conjunto de dados como colunas e suas observações (ou valores) como linhas. Caso já tenha utilizado diferentes pacotes de softwares estatístico, como SAS ou SPSS, esse conceito deve lhe ser familiar.

*** =instructions
Clique em `Submit Answer`. Os dados do data frame de exemplo, chamado [`mtcars`](http://www.rdocumentation.org/packages/datasets/functions/mtcars) será exibido no console.

*** =hint
Apenas clique em `Submit Answer` e testemunhe a magia!

*** =pre_exercise_code
```{r}
# no pec
```

*** =sample_code
```{r}
# Exibindo o data frame em R
mtcars 
```

*** =solution
```{r}
# Exibindo o data frame em R
mtcars 
```

*** =sct
```{r}
test_output_contains("mtcars", incorrect_msg = "Não altere nada no código.")
success_msg("Ótimo! Continue para o próximo exercício.")
```


--- type:NormalExercise xp:100 skills:1 key:3d0e64ecf5f69521ee538ecc713caa02b8b0ec46
## Rápido, dê uma olhada no seu conjunto de dados

Nossa, tem um monte de carros aí!

Trabalhar com grandes conjuntos de dados - do inglês Dataset - não é incomum em análise de dados. Quando você trabalha com datasets e dataframes (muito) grandes, sua primeira tarefa como um analista de dados é desenvolver um claro entendimento de sua estrutura e principais elementos. Entretanto, é sempre útil mostrar apenas pequenas partes de um dataset inteiro.

Então, como que se faz isso em R? Bem, a função [`head()`](http://www.rdocumentation.org/packages/utils/functions/head) permite a você exibir as primeiras ou linhas de um dataframe. De forma similar, a função [`tail()`](http://www.rdocumentation.org/packages/utils/functions/head) exibe as últimas linhas do seu dataset.

Ambos [`head()`](http://www.rdocumentation.org/packages/utils/functions/head) e [`tail()`](http://www.rdocumentation.org/packages/utils/functions/head) exibem o cabeçalho, que trata-se da primeira linha do dataset, onde ficam os nomes das diferentes colunas (ou variáveis) do seu dataset.

*** =instructions
Execute [`head()`](http://www.rdocumentation.org/packages/utils/functions/head) no dataset [`mtcars`](http://www.rdocumentation.org/packages/datasets/functions/mtcars) para que você possa ver o cabeçalho das primeiras linhas.

*** =hint
`head(mtcars)` irá mostrar as primeiras linhas (ou observações) do dataframe `mtcars`.

*** =pre_exercise_code
```{r}
# no pec
```

*** =sample_code
```{r}
# Execute head() em mtcars

```

*** =solution
```{r}
# Execute head() em mtcars
head(mtcars)
```

*** =sct
```{r}
test_function("head", "x", incorrect_msg = "Você usou `mtcars` na função `head()`?")
test_output_contains("head(mtcars)", incorrect_msg = "Simplesmente exiba o resultado da função `head()`, não é necessário armazená-lo em uma variável.")
success_msg("Maravilha! Então, o que temos aqui neste dataset? Por exemplo, `hp` significa `horsepower`, ou seja, a potência do motor de um carro; O Datsun possui a menor potência entre os seis carros que foram exibidos pela função. Para saber o que cada variável significa, você pode digitar `?mtcars` no console e ler a página de ajuda. Continue para o próximo exercício!");
```


--- type:NormalExercise xp:100 skills:1 key:f4d5b1a2c4aef31645fc7e3505e699fb6e48f3e6
## Dando uma olhada na estrutura

Outro método que é frequentemente usado para ter uma rápida visão de seus dados é utilizando a função [`str()`](http://www.rdocumentation.org/packages/utils/functions/str). A função [`str()`](http://www.rdocumentation.org/packages/utils/functions/str) mostrará a você a estrutura de seu dataset. Em um dataframe, ele dirá:

- O total de observações (ou linhas), por exemplo, 32 tipos de carros
- O total de variáveis (ou colunas), por exemplo, 11 características de carros
- Uma lista completa com os nomes das variáveis (`mpg`, `cyl`, etc.)
- O tipo de dados em cada variável, por exemplo, `num`
- A primeira observação (ou linha)

Aplicar a função [`str()`](http://www.rdocumentation.org/packages/utils/functions/str) será, provavelmente, uma das primeiras coisas a se fazer ao manipular um dataset ou dataframe. É uma ótima forma de adquirir insights sobre seu dataset antes de mergulhar em uma análise real.

*** =instructions
Investigue a estrutura de [`mtcars`](http://www.rdocumentation.org/packages/datasets/functions/mtcars). Certifique-se de que consegue visualizar os mesmos números, variáveis e tipos de dados, conforme mencionado acima.

*** =hint
Use a função [`str()`](http://www.rdocumentation.org/packages/utils/functions/str) em [`mtcars`](http://www.rdocumentation.org/packages/datasets/functions/mtcars).

*** =pre_exercise_code
```{r}
# no pec
```

*** =sample_code
```{r}
# Investigue a estrutura de mtcars
```

*** =solution
```{r}
# Investigue a estrutura de mtcars
str(mtcars)
```

*** =sct
```{r}
test_output_contains("str(mtcars)", incorrect_msg = "Você usou corretamente a função `str()` em `mtcars`?")
success_msg("Bom trabalho! Consegue visualizar todas as informações ditas na descrição do exercício? Continue para o próximo exercício.")
```


--- type:NormalExercise xp:100 skills:1 key:df0b89706d90526b3c0bbe15e400b74cbd900704
## Criando um dataframe 

Utilizar um dataset que foi criado pela própria linguagem de programação não é nem metade da diversão em criar seu próprio dataset. O restante deste curso irá focar no desenvolvimento do seu próprio dataset. Coloque sua mochila a jato, porque está na hora de explorarmos o espaço!

Como seu primeiro objetivo, você deverá construir um dataframe que descreva as principais características dos oito planetas em nosso sistema solar. De acordo com seu grande amigo Buzz, as principais características são:

- O tipo de planeta (Terrestre ou Gigantes Gasoso).
- O diâmetro do planeta relativo ao diâmetro da Terra.
- A rotação do planeta em torno do sol relativo a da Terra.
- E se o planeta possui anéis ou não (TRUE ou FALSE).

Depois de ter feito algumas pesquisas no [Wikipedia](http://en.wikipedia.org/wiki/Planet), você se sente confiante o suficiente para criar os seguintes vetores: `name` (nome), `type` (tipo), `diameter` (diâmetro), `rotation` (rotação) e `rings` (anéis). Esses vetores já foram criados pra você. O primeiro elemento de cada vetor corresponde a primeira observação (ou linha, ou neste caso, um planeta).

É possível criar um dataframe utilizando a função [`data.frame()`](http://www.rdocumentation.org/packages/base/functions/data.frame). Como argumento, você passa os vetores informados anteriormente. Cada um deles se tornará uma coluna diferente em seu dataframe. Devido cada coluna ter o mesmo tamanho, os vetores que você passar também terão. Mas, não se esqueça que é possível (e muito comum) que eles possuam tipos diferentes de dados.

*** =instructions
Use a função [`data.frame()`](http://www.rdocumentation.org/packages/base/functions/data.frame) para construir um dataframe. Passe os vetores `name`, `type`, `diameter`, `rotation` e `rings` como argumentos para `data.frame()`, nesta mesma ordem. O valor resultante deve ser armazenado na variável `planets_df`.

*** =hint
A função `data.frame()` deve começar assim:
```
data.frame(planets, type, diameter)
```
Consegue terminar?

*** =pre_exercise_code
```{r}
# no pec
```

*** =sample_code
```{r}
# Definição dos vetores
name <- c("Mercury", "Venus", "Earth", "Mars", "Jupiter", "Saturn", "Uranus", "Neptune")
type <- c("Terrestrial planet", "Terrestrial planet", "Terrestrial planet", 
          "Terrestrial planet", "Gas giant", "Gas giant", "Gas giant", "Gas giant")
diameter <- c(0.382, 0.949, 1, 0.532, 11.209, 9.449, 4.007, 3.883)
rotation <- c(58.64, -243.02, 1, 1.03, 0.41, 0.43, -0.72, 0.67)
rings <- c(FALSE, FALSE, FALSE, FALSE, TRUE, TRUE, TRUE, TRUE)

# Crie um dataframe a partir dos vetores
planets_df <-

```

*** =solution
```{r}
# Definição dos vetores
name <- c("Mercury", "Venus", "Earth", "Mars", "Jupiter", "Saturn", "Uranus", "Neptune")
type <- c("Terrestrial planet", "Terrestrial planet", "Terrestrial planet", 
          "Terrestrial planet", "Gas giant", "Gas giant", "Gas giant", "Gas giant")
diameter <- c(0.382, 0.949, 1, 0.532, 11.209, 9.449, 4.007, 3.883)
rotation <- c(58.64, -243.02, 1, 1.03, 0.41, 0.43, -0.72, 0.67)
rings <- c(FALSE, FALSE, FALSE, FALSE, TRUE, TRUE, TRUE, TRUE)

# Crie um dataframe a partir dos vetores
planets_df <- data.frame(name, type, diameter, rotation, rings)
```

*** =sct
```{r}
msg = "Não altere nada nas definições dos vetores. Apenas adicione `data.frame()` para criar `planets_df`."
test_object("name", undefined_msg = msg, incorrect_msg = msg)
test_object("type", undefined_msg = msg, incorrect_msg = msg)
test_object("diameter", undefined_msg = msg, incorrect_msg = msg)
test_object("rotation", undefined_msg = msg, incorrect_msg = msg)
test_object("rings", undefined_msg = msg, incorrect_msg = msg)

test_object("planets_df",
            incorrect_msg = "Você armazenou corretamente o valor de `data.frame()` em `planets_df`? Dentro de `data.frame()`, tenha certeza de passar todos os vetores na ordem correta: `name`, `type`, `diameter`, `rotation` e finalmente `rings`.")

success_msg("Excelente trabalho! Continue para o próximo exercício. O próximo passo será inspecionar o dataframe que você acabou de criar. Vamos lá?");
```


--- type:NormalExercise xp:100 skills:1 key:c13ea421dd078030a225f49e53a8927ce8fefbe0
## Criando um dataframe (2)

O dataframe `planets_df` deve ter agora 8 observações (ou linhas) e 5 variável (ou colunas). Ele está disponível no workspace, para que você possa utilizá-lo diretamente.

*** =instructions
Use [`str()`](http://www.rdocumentation.org/packages/utils/functions/str) para investigar a estrutura da variável `planets_df`.

*** =hint
`planets_df` já está disponível para você no workspace, sendo assim, utilizar `str(planets_df)` mata a charada.

*** =pre_exercise_code
```{r}
load(url("http://s3.amazonaws.com/assets.datacamp.com/course/intro_to_r/planets.RData"))
```

*** =sample_code
```{r}
# Verifique a estrutura de planets_df
```

*** =solution
```{r}
# Verifique a estrutura de planets_df
str(planets_df)
```

*** =sct
```{r}
msg = "Não remova ou sobrescreva o dataframe `planets_df` que já está disponível no seu workspace!"
test_object("planets_df", undefined_msg = msg, incorrect_msg = msg)
test_output_contains("str(planets_df)", incorrect_msg = "Você exibiu corretamente a estrutura de `planets_df`? Use `str()` para fazer isso!")
success_msg("Incrível! Agora que você tem um claro entendimento do dataset `planets_df`, é hora de vermos como você pode selecionar elementos dele. Aprenda tudo sobre isso nos próximos exercícios!")
```


--- type:NormalExercise xp:100 skills:1 key:8c664726b8a173cda730cbb20a52ac1795d9a0e9
## Seleção de elementos em um dataframe

De forma similar a vetores e matrizes, você pode selecionar elementos de um dataframe com a ajuda dos colchetes `[ ]`. Ao utilizar uma vírgula, você indica qual linha e coluna deseja selecionar, respectivamente. Por exemplo:

- `my_df[1,2]` seleciona o valor que se encontra na primeira linha e segunda coluna de `my_df`.
- `my_df[1:3,2:4]` seleciona as linhas 1, 2 e 3 e colunas 2, 3 e 4 em `my_df`.

Haverá momentos em que você vai querer selecionar todos os elementos de uma linha ou coluna. Por exemplo, `my_df[1, ]` seleciona todos os elementos (ou, neste caso, colunas) da primeira linha. Vamos aplicar essa técnicas em `planets_df`!

*** =instructions
- Em `planets_df`, selecione o diâmetro de Mercury (Mercúrio): este valor se encontra na primeira linha da terceira coluna. Simplesmente exiba no console o resultado.
- Em `planets_df`, selecione todos os dados de Mars (Marte), que fica na quarta linha. Simplesmente exiba no console o resultado.

*** =hint
To select the diameter for Venus (the second row), you would need: `planets_df[2,3]`. What do you need for Mercury then?

*** =pre_exercise_code
```{r}
load(url("http://s3.amazonaws.com/assets.datacamp.com/course/intro_to_r/planets.RData"))
```

*** =sample_code
```{r}
# The planets_df data frame from the previous exercise is pre-loaded

# Print out diameter of Mercury (row 1, column 3)


# Print out data for Mars (entire fourth row)

```

*** =solution
```{r}
# The planets_df data frame from the previous exercise is pre-loaded

# Print out diameter of Mercury (row 1, column 3)
planets_df[1,3]

# Print out data for Mars (entire fourth row)
planets_df[4, ]
```

*** =sct
```{r}
msg = "Do not remove or overwrite the `planets_df` data frame!"
test_object("planets_df", undefined_msg = msg, incorrect_msg = msg)
test_output_contains("planets_df[1,3]", incorrect_msg = "Have you correctly selected and printed out the diameter for Mercury? You can use `[1,3]`.")
test_output_contains("planets_df[4, ]", incorrect_msg = "Have you correctly selected and printed out all data for Mars? You can use `[4,]`.")
success_msg("Great! Apart from selecting elements from your data frame by index, you can also use the column names. To learn how, head over to the next exercise.")
```


--- type:NormalExercise xp:100 skills:1 key:faf104fb0c605fd89f048648a4a588200bc89c76
## Selection of data frame elements (2)

Instead of using numerics to select elements of a data frame, you can also use the variable names to select columns of a data frame. 

Suppose you want to select the first three elements of the `type` column. One way to do this is

```
planets_df[1:3,1]
```

A possible disadvantage of this approach is that you have to know (or look up) the column number of `type`, which gets hard if you have a lot of variables. It is often easier to just make use of the variable name:

```
planets_df[1:3,"type"]
```

*** =instructions
Select and print out the first 5 values in the `"diameter"` column of `planets_df`.

*** =hint
You can select the first five values with `planets_df[1:5, ...]`. Can you fill in the `...` bit to only select the `"diameter"` column?

*** =pre_exercise_code
```{r}
load(url("http://s3.amazonaws.com/assets.datacamp.com/course/intro_to_r/planets.RData"))
```

*** =sample_code
```{r}
# The planets_df data frame from the previous exercise is pre-loaded

# Select first 5 values of diameter column

```

*** =solution
```{r}
# The planets_df data frame from the previous exercise is pre-loaded

# Select first 5 values of diameter column
planets_df[1:5, "diameter"]
```

*** =sct
```{r}
msg = "Do not remove or overwrite the `planets_df` data frame!"
test_object("planets_df", undefined_msg = msg, incorrect_msg = msg)
test_output_contains("planets_df[1:5, \"diameter\"]", incorrect_msg = "Have you correctly selected the first five values from the diameter column and printed them out? You can use `[1:5, \"diameter\"]` here.")
success_msg("Nice! Continue to the next exercise!")
```


--- type:NormalExercise xp:100 skills:1 key:e550ecb6ec45b856e6160ddfbb3d7875998e8365
## Only planets with rings

You will often want to select an entire column, namely one specific variable from a data frame. If you want to select all elements of the variable `diameter`, for example, both of these will do the trick:

```
planets_df[,3]
planets_df[,"diameter"]
```

However, there is a short-cut. If your columns have names, you can use the `$` sign:

```
planets_df$diameter
```

*** =instructions
- Use the `$` sign to select the `rings` variable from `planets_df`. Store the vector that results as `rings_vector`.
- Print out `rings_vector` to see if you got it right.

*** =hint
`planets_df$diameter` selects the `diameter` column from `planets_df`; what do you need to select the `rings` column then?

*** =pre_exercise_code
```{r}
load(url("http://s3.amazonaws.com/assets.datacamp.com/course/intro_to_r/planets.RData"))
```

*** =sample_code
```{r}
# planets_df is pre-loaded in your workspace

# Select the rings variable from planets_df
rings_vector <- 
  
# Print out rings_vector
```

*** =solution
```{r}
# planets_df is pre-loaded in your workspace

# Select the rings variable from planets_df
rings_vector <- planets_df$rings

# Print out rings_vector
rings_vector
```

*** =sct
```{r}
msg = "Do not remove or overwrite the `planets_df` data frame!"
test_object("planets_df", undefined_msg = msg, incorrect_msg = msg)
test_object("rings_vector",
            incorrect_msg = "Have you correctly selected the `rings` variable from `planets_df`? Use `$rings`. Store the result as `rings_vector`.")
test_output_contains("rings_vector", incorrect_msg = "Don't forget to print out `rings_vector` after you've created it!")
success_msg("Great! Continue to the next exercise and discover yet another way of subsetting!")
```


--- type:NormalExercise xp:100 skills:1 key:1581bf4667477f274188f4f637ec7fdc73659651
## Only planets with rings (2)

You probably remember from high school that some planets in our solar system have rings and others do not. But due to other priorities at that time (read: puberty) you can not recall their names, let alone their rotation speed, etc. 

Could R help you out?

If you type `rings_vector` in the console, you get:

```
[1] FALSE FALSE FALSE FALSE  TRUE  TRUE  TRUE  TRUE
```

This means that the first four observations (or planets) do not have a ring (`FALSE`), but the other four do (`TRUE`). However, you do not get a nice overview of the names of these planets, their diameter, etc. Let's try to use `rings_vector` to select the data for the four planets with rings. 

*** =instructions
The code on the right selects the `name` column of all planets that have rings. Adapt the code so that instead of only the `name` column, _all_ columns for planets that have rings are selected.

*** =hint
Remember that to select _all_ columns, you simply have to leave the columns part inside the `[ ]` empty! This means you'll need `[rings_vector, ]`.

*** =pre_exercise_code
```{r}
load(url("http://s3.amazonaws.com/assets.datacamp.com/course/intro_to_r/planets.RData"))
rings_vector <- planets_df$rings
```

*** =sample_code
```{r}
# planets_df and rings_vector are pre-loaded in your workspace

# Adapt the code to select all columns for planets with rings
planets_df[rings_vector, "name"]
```

*** =solution
```{r}
# planets_df and rings_vector are pre-loaded in your workspace

# Adapt the code to select all columns for planets with rings
planets_df[rings_vector, ]
```

*** =sct
```{r}
msg <- "Do not remove or overwrite `planets_df` or `rings_vector`!"
test_object("planets_df", undefined_msg = msg, incorrect_msg = msg)
test_object("rings_vector", undefined_msg = msg, incorrect_msg = msg)
test_output_contains('planets_df[rings_vector, ]', incorrect_msg = "Have you correctly adapted the code to select _all_ columns for the planets that have rings? You can use `planets_df[rings_vector, ]`. Make sure to include the comma here, it's crucial!")
success_msg("Wonderful! This is a rather tedious solution. The next exercise will teach you how to do it in a more concise way.")
```


--- type:NormalExercise xp:100 skills:1 key:a4a8b72a74097196eb2f8a28b056987aae834565
## Only planets with rings but shorter

So what exactly did you learn in the previous exercises? You selected a subset from a data frame (`planets_df`) based on whether or not a certain condition was true (rings or no rings), and you managed to pull out all relevant data. Pretty awesome! By now, NASA is probably already flirting with your CV ;-). 

Now, let us move up one level and use the function [`subset()`](http://www.rdocumentation.org/packages/base/functions/subset). You should see the [`subset()`](http://www.rdocumentation.org/packages/base/functions/subset) function as a short-cut to do exactly the same as what you did in the previous exercises. 

```
subset(my_df, subset = some_condition)
``` 

The first argument of [`subset()`](http://www.rdocumentation.org/packages/base/functions/subset) specifies the data set for which you want a subset. By adding the second argument, you give R the necessary information and conditions to select the correct subset. 

The code below will give the exact same result as you got in the previous exercise, but this time, you didn't need the `rings_vector`!

```
subset(planets_df, subset = rings)
``` 

*** =instructions
Use `subset()` on `planets_df` to select planets that have a diameter smaller than Earth. Because the `diameter` variable is a relative measure of the planet's diameter w.r.t that of planet Earth, your condition is `diameter < 1`.

*** =hint
`subset(planets_df, subset = ...)` almost solves it; can you fill in the `...`?

*** =pre_exercise_code
```{r}
load(url("http://s3.amazonaws.com/assets.datacamp.com/course/intro_to_r/planets.RData"))
```

*** =sample_code
```{r}
# planets_df is pre-loaded in your workspace

# Select planets with diameter < 1

```

*** =solution
```{r}
# planets_df is pre-loaded in your workspace

# Select planets with diameter < 1
subset(planets_df, subset = diameter < 1)
```

*** =sct
```{r}
msg = "Do not remove or overwrite the `planets_df` data frame!"
test_object("planets_df", undefined_msg = msg, incorrect_msg = msg)
test_correct({
  test_output_contains("subset(planets_df, subset = diameter < 1)", incorrect_msg = "Have you correctly specified the `subset = ...` part inside `subset()`. The condition in this case is `diameter < 1`. Simply print out the result.")  
}, {
  test_function("subset", args = "x", 
                not_called_msg = "Make sure to use the `subset()` function to perform the selection!",
                incorrect_msg = "The first argument you pass to `subset()` should be `planets_df`.")
})
success_msg("Great! Not only is the `subset()` function more concise, it is probably also more understandable for people who read your code. Continue to the next exercise.");
```


--- type:NormalExercise xp:100 skills:1 key:6a6fe74d3917c37380f7ac616ce084aa7814fb8a
## Sorting

Making and creating rankings is one of mankind's favorite affairs. These rankings can be useful (best universities in the world), entertaining (most influential movie stars) or pointless (best 007 look-a-like).

In data analysis you can sort your data according to a certain variable in the data set. In R, this is done with the help of the function [`order()`](http://www.rdocumentation.org/packages/base/functions/order). 

[`order()`](http://www.rdocumentation.org/packages/base/functions/order) is a function that gives you the ranked position of each element when it is applied on a variable, such as a vector for example:

```
> a <- c(100, 10, 1000)
> order(a)
[1] 2 1 3
```

10, which is the second element in `a`, is the smallest element, so 2 comes first in the output of `order(a)`. 100, which is the first element in `a` is the second smallest element, so 1 comes second in the output of `order(a)`.

This means we can use the output of `order(a)` to reshuffle `a`:
    
```
> a[order(a)]
[1]   10  100 1000
``` 

*** =instructions
Experiment with the [`order()`](http://www.rdocumentation.org/packages/base/functions/order) function in the console. Click 'Submit Answer' when you are ready to continue.

*** =hint
Just play with the [`order()`](http://www.rdocumentation.org/packages/base/functions/order) function in the console!

*** =pre_exercise_code
```{r}
# no pec
```

*** =sample_code
```{r}
# Play around with the order function in the console
```

*** =solution
```{r}
# Play around with the order function in the console
```

*** =sct
```{r}
success_msg("Great! Now let's use the `order()` function to sort your data frame!")
```


--- type:NormalExercise xp:100 skills:1 key:fa88b58bf2cf62e0c181dfdcbdd2e1ddeac66807
## Sorting your data frame

Alright, now that you understand the [`order()`](http://www.rdocumentation.org/packages/base/functions/order) function, let us do something useful with it. You would like to rearrange your data frame such that it starts with the smallest planet and ends with the largest one. A sort on the `diameter` column.

*** =instructions
- Call `order()` on `planets_df$diameter` (the `diameter` column of `planets_df`). Store the result as `positions`.
- Now reshuffle `planets_df` with the `positions` vector as row indexes inside square brackets. Keep all columns. Simply print out the result.

*** =hint
- Use `order(planets_df$diameter)` to create `positions`.
- Now, you can use `positions` inside square brackets: `planets_df[...]`; can you fill in the `...`?

*** =pre_exercise_code
```{r}
load(url("http://s3.amazonaws.com/assets.datacamp.com/course/intro_to_r/planets.RData"))
```

*** =sample_code
```{r}
# planets_df is pre-loaded in your workspace

# Use order() to create positions
positions <-  

# Use positions to sort planets_df

```

*** =solution
```{r}
# planets_df is pre-loaded in your workspace

# Use order() to create positions
positions <- order(planets_df$diameter)

# Use positions to sort planets_df
planets_df[positions, ]
```

*** =sct
```{r}
msg = "Do not remove or overwrite the `planets_df` data frame!"
test_object("planets_df", undefined_msg = msg, incorrect_msg = msg)
test_object("positions",
            incorrect_msg = "Have you correctly calculated the `positions` variable? You can use `sort(planets_df$diameter)`.")
test_output_contains("planets_df[positions,]",
                     incorrect_msg = "Use `planets_df[positions, ]` to sort `planets_df`; the comma inside the square brackets is crucial!")
success_msg("Wonderful! This exercise concludes the chapter on data frames. Remember that data frames are extremely important in R, you will need them all the time. Another very often used data structure is the list. This will be the subject of the next chapter!")
```


